<%- include('Partials/header.ejs') %>

<style>
  body {
    background: radial-gradient(circle at top left, #2e0854, #3b0a4f, #11001c);
    color: #fff;
    font-family: 'Poppins', sans-serif;
    min-height: 100vh;
  }

  .royal-card {
    backdrop-filter: blur(18px);
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 215, 0, 0.3);
    border-radius: 20px;
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.1);
    transition: all 0.3s ease-in-out;
  }

  .royal-card:hover {
    box-shadow: 0 0 40px rgba(255, 215, 0, 0.3);
    transform: translateY(-3px);
  }

  .table thead {
    background: linear-gradient(90deg, #f5c542, #d4af37);
    color: #1a001f;
    font-weight: 600;
  }

  .table tbody tr {
    transition: all 0.3s ease;
  }

  .table tbody tr:hover {
    background: rgba(255, 255, 255, 0.05);
  }

  .btn-outline-info,
  .btn-outline-secondary,
  .btn-outline-danger {
    border: 1px solid rgba(255, 215, 0, 0.3);
    color: #f5c542;
  }

  .btn-outline-info:hover,
  .btn-outline-secondary:hover,
  .btn-outline-danger:hover {
    background: #f5c542;
    color: #1a001f;
  }

  .btn-gold {
    background: linear-gradient(135deg, #f5c542, #d4af37);
    border: none;
    color: #1a001f;
    font-weight: 600;
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
  }

  .btn-gold:hover {
    background: linear-gradient(135deg, #ffe375, #f5c542);
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
  }

  .page-title {
    text-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
    letter-spacing: 1px;
  }

  .icon-glow {
    color: #f5c542;
    text-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
  }
</style>

<main class="py-5">
  <div class="container">

    <!-- Table -->
    <div class="royal-card p-4">
      <% if (contacts && contacts.length > 0) { %>
        <div class="table-responsive">
          <table class="table table-borderless text-white align-middle">
            <thead>
              <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>City</th>
                <th>Phone</th>
                <th class="text-center">Actions</th>
              </tr>
            </thead>
            <tbody>
              <% contacts.forEach(contact => { %>
                <tr>
                  <td><%= contact.first_name %></td>
                  <td><%= contact.last_name %></td>
                  <td><%= contact.city %></td>
                  <td><%= contact.phone %></td>
                  <td class="text-center">
                    <a href="/contacts/<%= contact._id %>" class="btn btn-sm btn-outline-info me-1" title="View">
                      <i class="fa fa-eye"></i>
                    </a>
                    <a href="/contacts/edit/<%= contact._id %>" class="btn btn-sm btn-outline-secondary me-1" title="Edit">
                      <i class="fa fa-edit"></i>
                    </a>
                    <a href="/contacts/delete/<%= contact._id %>" class="btn btn-sm btn-outline-danger" title="Delete"
                      onclick="return confirm('Are you sure you want to delete this contact?');">
                      <i class="fa fa-trash"></i>
                    </a>
                  </td>
                </tr>
              <% }) %>
            </tbody>
          </table>
        </div>
      <% } else { %>
        <div class="text-center py-5">
          <i class="fa fa-address-book text-gold icon-glow" style="font-size:3rem;"></i>
          <h5 class="mt-3 text-light">No contacts found</h5>
          <a href="/contacts/add" class="btn btn-gold mt-3">Add Your First Contact</a>
        </div>
      <% } %>
    </div>
  </div>
</main>

<%- include('Partials/footer.ejs') %>
